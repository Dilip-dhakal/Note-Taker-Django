{% extends "base.html" %}
{% block content %}
<div class="container py-4">
  <h1 class="mb-3">Add a Note</h1>

  <form method="post" action="{% url 'notes' %}">
    {% csrf_token %}
    
    <div class="mb-3">
      <input type="text" name="notes" class="form-control" placeholder="Note title" required maxlength="250">
    </div>
    <div class="mb-3">
      <textarea name="description" class="form-control" placeholder="Write your description here..." rows="5" required></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Save Note</button>
  </form>

  <hr class="my-4">
  <h3>Your Notes</h3>
  <ul class="list-group mt-2">
    {% for note in all_notes %}
      <li class="list-group-item d-flex justify-content-between align-items-start">
        <div>
          <strong>{{ note.notes }}</strong>
          <div class="mt-1">{{ note.description|linebreaksbr }}</div>
          <small class="text-muted">{{ note.created_at|date:"Y-m-d H:i" }}</small>
        </div>
        <div>
          <a href="{% url 'edit_note' note.id %}" class="btn btn-sm btn-warning me-2">Edit</a>
          <a href="{% url 'delete_note' note.id %}" class="btn btn-sm btn-danger"
             onclick="return confirm('Are you sure you want to delete this note?');">Delete</a>
        </div>
      </li>
    {% empty %}
      <li class="list-group-item">No notes yet.</li>
    {% endfor %}
  </ul>
</div>
{% if user.is_authenticated %}
  <a href="{% url 'logout' %}">Logout</a>
{% endif %}

{% endblock %}
